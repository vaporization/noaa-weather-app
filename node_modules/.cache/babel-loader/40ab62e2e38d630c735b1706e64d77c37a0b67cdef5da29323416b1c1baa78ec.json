{"ast":null,"code":"import { getFirestore, doc, getDoc, setDoc, updateDoc, deleteField } from \"firebase/firestore\";\nimport { auth } from './firebase';\nconst db = getFirestore();\nexport async function saveUserPreferences(uid, gradientColors, waveColors, menuColors, dataColumnColors, dataEntryColor) {\n  try {\n    await setDoc(doc(db, \"users\", uid), {\n      gradientColors,\n      waveColors,\n      menuColors,\n      dataColumnColors,\n      dataEntryColor\n    }, {\n      merge: true\n    });\n    console.log(\"User preferences saved successfully\");\n  } catch (error) {\n    console.error(\"Error saving user preferences: \", error);\n  }\n}\nexport async function getUserPreferences(uid) {\n  const docRef = doc(db, \"users\", uid);\n  const docSnap = await getDoc(docRef);\n  if (docSnap.exists()) {\n    console.log(\"User preferences:\", docSnap.data());\n    return docSnap.data();\n  } else {\n    console.log(\"No such document!\");\n    return null;\n  }\n}\nexport async function resetUserPreferences(uid) {\n  try {\n    await setDoc(doc(db, \"users\", uid), {\n      gradientColors: {\n        start: '#003057',\n        end: '#001F3D'\n      },\n      waveColors: {\n        wave1: 'rgba(18, 119, 176, 0.45)',\n        wave2: 'rgba(10, 90, 150, 0.45)',\n        wave3: 'rgba(5, 60, 120, 0.45)',\n        wave1Alpha: '0.45',\n        wave2Alpha: '0.45',\n        wave3Alpha: '0.45'\n      },\n      menuColors: {\n        backgroundColor: '#286090',\n        textColor: '#FFFFFF',\n        buttonColor: '#286090'\n      },\n      dataColumnColors: {\n        textColor: '#000000',\n        backgroundColor: '#FFFFFF',\n        alpha: '1'\n      },\n      dataEntryColor: '#FFFFFF'\n    }, {\n      merge: true\n    });\n    console.log(\"User preferences reset to default successfully\");\n  } catch (error) {\n    console.error(\"Error resetting user preferences: \", error);\n  }\n}\nexport async function saveUserTheme(uid, themeName, gradientColors, waveColors, menuColors, dataColumnColors, dataEntryColor) {\n  try {\n    const userRef = doc(db, 'users', uid);\n    const userDoc = await getDoc(userRef);\n    const themes = userDoc.exists() && userDoc.data().themes ? userDoc.data().themes : {};\n    themes[themeName] = {\n      gradientColors,\n      waveColors,\n      menuColors,\n      dataColumnColors,\n      dataEntryColor\n    };\n    await updateDoc(userRef, {\n      themes\n    });\n    console.log(\"User theme saved successfully\");\n  } catch (error) {\n    console.error(\"Error saving user theme: \", error);\n  }\n}\nexport async function getUserThemes(uid) {\n  const docRef = doc(db, \"users\", uid);\n  const docSnap = await getDoc(docRef);\n  if (docSnap.exists() && docSnap.data().themes) {\n    console.log(\"User themes:\", docSnap.data().themes);\n    return Object.entries(docSnap.data().themes).map(([name, theme]) => ({\n      name,\n      ...theme\n    }));\n  } else {\n    console.log(\"No themes found!\");\n    return [];\n  }\n}\nexport async function deleteUserTheme(uid, themeName) {\n  try {\n    const userRef = doc(db, 'users', uid);\n    await updateDoc(userRef, {\n      [`themes.${themeName}`]: deleteField()\n    });\n    console.log(\"User theme deleted successfully\");\n  } catch (error) {\n    console.error(\"Error deleting user theme: \", error);\n  }\n}","map":{"version":3,"names":["getFirestore","doc","getDoc","setDoc","updateDoc","deleteField","auth","db","saveUserPreferences","uid","gradientColors","waveColors","menuColors","dataColumnColors","dataEntryColor","merge","console","log","error","getUserPreferences","docRef","docSnap","exists","data","resetUserPreferences","start","end","wave1","wave2","wave3","wave1Alpha","wave2Alpha","wave3Alpha","backgroundColor","textColor","buttonColor","alpha","saveUserTheme","themeName","userRef","userDoc","themes","getUserThemes","Object","entries","map","name","theme","deleteUserTheme"],"sources":["C:/Users/saweb/noaa-weather-app/src/userPreferences.js"],"sourcesContent":["import { getFirestore, doc, getDoc, setDoc, updateDoc, deleteField } from \"firebase/firestore\";\r\nimport { auth } from './firebase';\r\n\r\nconst db = getFirestore();\r\n\r\nexport async function saveUserPreferences(uid, gradientColors, waveColors, menuColors, dataColumnColors, dataEntryColor) {\r\n  try {\r\n    await setDoc(doc(db, \"users\", uid), {\r\n      gradientColors,\r\n      waveColors,\r\n      menuColors,\r\n      dataColumnColors,\r\n      dataEntryColor\r\n    }, { merge: true });\r\n    console.log(\"User preferences saved successfully\");\r\n  } catch (error) {\r\n    console.error(\"Error saving user preferences: \", error);\r\n  }\r\n}\r\n\r\nexport async function getUserPreferences(uid) {\r\n  const docRef = doc(db, \"users\", uid);\r\n  const docSnap = await getDoc(docRef);\r\n\r\n  if (docSnap.exists()) {\r\n    console.log(\"User preferences:\", docSnap.data());\r\n    return docSnap.data();\r\n  } else {\r\n    console.log(\"No such document!\");\r\n    return null;\r\n  }\r\n}\r\n\r\nexport async function resetUserPreferences(uid) {\r\n  try {\r\n    await setDoc(doc(db, \"users\", uid), {\r\n      gradientColors: { start: '#003057', end: '#001F3D' },\r\n      waveColors: {\r\n        wave1: 'rgba(18, 119, 176, 0.45)',\r\n        wave2: 'rgba(10, 90, 150, 0.45)',\r\n        wave3: 'rgba(5, 60, 120, 0.45)',\r\n        wave1Alpha: '0.45',\r\n        wave2Alpha: '0.45',\r\n        wave3Alpha: '0.45'\r\n      },\r\n      menuColors: {\r\n        backgroundColor: '#286090',\r\n        textColor: '#FFFFFF',\r\n        buttonColor: '#286090'\r\n      },\r\n      dataColumnColors: {\r\n        textColor: '#000000',\r\n        backgroundColor: '#FFFFFF',\r\n        alpha: '1'\r\n      },\r\n      dataEntryColor: '#FFFFFF'\r\n    }, { merge: true });\r\n    console.log(\"User preferences reset to default successfully\");\r\n  } catch (error) {\r\n    console.error(\"Error resetting user preferences: \", error);\r\n  }\r\n}\r\n\r\nexport async function saveUserTheme(uid, themeName, gradientColors, waveColors, menuColors, dataColumnColors, dataEntryColor) {\r\n  try {\r\n    const userRef = doc(db, 'users', uid);\r\n    const userDoc = await getDoc(userRef);\r\n    const themes = userDoc.exists() && userDoc.data().themes ? userDoc.data().themes : {};\r\n    themes[themeName] = {\r\n      gradientColors,\r\n      waveColors,\r\n      menuColors,\r\n      dataColumnColors,\r\n      dataEntryColor\r\n    };\r\n    await updateDoc(userRef, { themes });\r\n    console.log(\"User theme saved successfully\");\r\n  } catch (error) {\r\n    console.error(\"Error saving user theme: \", error);\r\n  }\r\n}\r\n\r\nexport async function getUserThemes(uid) {\r\n  const docRef = doc(db, \"users\", uid);\r\n  const docSnap = await getDoc(docRef);\r\n\r\n  if (docSnap.exists() && docSnap.data().themes) {\r\n    console.log(\"User themes:\", docSnap.data().themes);\r\n    return Object.entries(docSnap.data().themes).map(([name, theme]) => ({ name, ...theme }));\r\n  } else {\r\n    console.log(\"No themes found!\");\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function deleteUserTheme(uid, themeName) {\r\n  try {\r\n    const userRef = doc(db, 'users', uid);\r\n    await updateDoc(userRef, {\r\n      [`themes.${themeName}`]: deleteField()\r\n    });\r\n    console.log(\"User theme deleted successfully\");\r\n  } catch (error) {\r\n    console.error(\"Error deleting user theme: \", error);\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}