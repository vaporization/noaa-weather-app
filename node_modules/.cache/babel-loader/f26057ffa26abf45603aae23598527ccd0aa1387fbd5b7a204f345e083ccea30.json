{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{regions}from'./stations';import'./DataAlerts.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DataAlerts=()=>{const[selectedRegion,setSelectedRegion]=useState('');const[selectedStation,setSelectedStation]=useState('');const[alertConditions,setAlertConditions]=useState({airTemperature:'',waterTemperature:'',humidity:''});const[alerts,setAlerts]=useState([]);const handleRegionChange=event=>{setSelectedRegion(event.target.value);setSelectedStation('');};const handleStationChange=event=>{setSelectedStation(event.target.value);};const handleInputChange=event=>{const{name,value}=event.target;setAlertConditions({...alertConditions,[name]:value});};const handleSubmit=async event=>{event.preventDefault();try{const userId='user-id';// Replace with actual user ID\nconst response=await axios.post('/api/alerts',{userId,stationId:selectedStation,conditions:alertConditions});console.log(response.data);setAlerts([...alerts,response.data]);}catch(error){console.error(\"Error creating alert:\",error);alert('Failed to create alert: '+error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Set Data Alerts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"select-container\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedRegion,onChange:handleRegionChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a region\"}),Object.keys(regions).map(region=>/*#__PURE__*/_jsx(\"option\",{value:region,children:region},region))]}),selectedRegion&&/*#__PURE__*/_jsxs(\"select\",{value:selectedStation,onChange:handleStationChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a station\"}),regions[selectedRegion].map(station=>/*#__PURE__*/_jsx(\"option\",{value:station.id,children:station.name},station.id))]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"alert-inputs\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Air Temperature:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"airTemperature\",value:alertConditions.airTemperature,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Water Temperature:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"waterTemperature\",value:alertConditions.waterTemperature,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Humidity:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"humidity\",value:alertConditions.humidity,onChange:handleInputChange})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Set Alert\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alerts-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Active Alerts\"}),/*#__PURE__*/_jsx(\"ul\",{children:alerts.map((alert,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"Station: \",alert.stationId,\", Conditions: \",JSON.stringify(alert.conditions)]},index))})]})]});};export default DataAlerts;","map":{"version":3,"names":["React","useState","axios","regions","jsx","_jsx","jsxs","_jsxs","DataAlerts","selectedRegion","setSelectedRegion","selectedStation","setSelectedStation","alertConditions","setAlertConditions","airTemperature","waterTemperature","humidity","alerts","setAlerts","handleRegionChange","event","target","value","handleStationChange","handleInputChange","name","handleSubmit","preventDefault","userId","response","post","stationId","conditions","console","log","data","error","alert","message","className","children","onChange","Object","keys","map","region","station","id","onSubmit","type","index","JSON","stringify"],"sources":["C:/Users/saweb/noaa-weather-app/src/DataAlerts.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { regions } from './stations';\r\nimport './DataAlerts.css';\r\n\r\nconst DataAlerts = () => {\r\n  const [selectedRegion, setSelectedRegion] = useState('');\r\n  const [selectedStation, setSelectedStation] = useState('');\r\n  const [alertConditions, setAlertConditions] = useState({\r\n    airTemperature: '',\r\n    waterTemperature: '',\r\n    humidity: ''\r\n  });\r\n  const [alerts, setAlerts] = useState([]);\r\n\r\n  const handleRegionChange = (event) => {\r\n    setSelectedRegion(event.target.value);\r\n    setSelectedStation('');\r\n  };\r\n\r\n  const handleStationChange = (event) => {\r\n    setSelectedStation(event.target.value);\r\n  };\r\n\r\n  const handleInputChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setAlertConditions({ ...alertConditions, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const userId = 'user-id'; // Replace with actual user ID\r\n      const response = await axios.post('/api/alerts', {\r\n        userId,\r\n        stationId: selectedStation,\r\n        conditions: alertConditions,\r\n      });\r\n      console.log(response.data);\r\n      setAlerts([...alerts, response.data]);\r\n    } catch (error) {\r\n      console.error(\"Error creating alert:\", error);\r\n      alert('Failed to create alert: ' + error.message);\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"page-container\">\r\n      <h1>Set Data Alerts</h1>\r\n      <div className=\"select-container\">\r\n        <select value={selectedRegion} onChange={handleRegionChange}>\r\n          <option value=\"\">Select a region</option>\r\n          {Object.keys(regions).map((region) => (\r\n            <option key={region} value={region}>\r\n              {region}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        {selectedRegion && (\r\n          <select value={selectedStation} onChange={handleStationChange}>\r\n            <option value=\"\">Select a station</option>\r\n            {regions[selectedRegion].map((station) => (\r\n              <option key={station.id} value={station.id}>\r\n                {station.name}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        )}\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"alert-inputs\">\r\n          <label>\r\n            Air Temperature:\r\n            <input\r\n              type=\"number\"\r\n              name=\"airTemperature\"\r\n              value={alertConditions.airTemperature}\r\n              onChange={handleInputChange}\r\n            />\r\n          </label>\r\n          <label>\r\n            Water Temperature:\r\n            <input\r\n              type=\"number\"\r\n              name=\"waterTemperature\"\r\n              value={alertConditions.waterTemperature}\r\n              onChange={handleInputChange}\r\n            />\r\n          </label>\r\n          <label>\r\n            Humidity:\r\n            <input\r\n              type=\"number\"\r\n              name=\"humidity\"\r\n              value={alertConditions.humidity}\r\n              onChange={handleInputChange}\r\n            />\r\n          </label>\r\n        </div>\r\n        <button type=\"submit\">Set Alert</button>\r\n      </form>\r\n\r\n      <div className=\"alerts-container\">\r\n        <h2>Active Alerts</h2>\r\n        <ul>\r\n          {alerts.map((alert, index) => (\r\n            <li key={index}>\r\n              Station: {alert.stationId}, Conditions: {JSON.stringify(alert.conditions)}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DataAlerts;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}